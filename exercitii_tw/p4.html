<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Exercitiul 4</title>

</head>
<body>
    <p>Selecteaza o culoare si apasa butonul pentru a afla semnificatia</p>

        <label>
            <input type="radio" name="color" value="red"> Rosu
        </label>
        <label>
            <input type="radio" name="color" value="blue"> Albastru
        </label>
        <label>
            <input type="radio" name="color" value="green"> Verde
        </label>
        <label>
            <input type="radio" name="color" value="yellow"> Galben
        </label>
        <label>
            <input type="radio" name="color" value="purple"> Mov
        </label>
<br><br>
    <button id="descriere">Afiseaza descrierea</button>

    <p id="rezultat"></p>

</body>
  	<script>
		function fetchData(url, color) {
			fetch(url)
				.then(response => {
					if (!response.ok) {
						throw new Error(`HTTP error! Status: ${response.status}`);
					}
					return response.json();
				})
				.then(data => {
					console.log("Date primite:", data);
					processData(data, color);
				})
				.catch(error => {
					console.error("Erori:", error);
        		});
		}

		function processData(jsonObject, color) {
			let data = jsonObject;
			if (data.hasOwnProperty(color)) {
				let para = document.getElementById("rezultat");
				para.innerText = data[color];
				para.style.color = color;
			}
			else {
				alert("culoarea selectata nu are o descriere!");
			}
		}

		let aux = document.getElementsByTagName("input");
		let inputs = Array.from(aux);
		let clickedInput = 0;
		let inputColor = "";

		document.body.addEventListener ("click", function (event) {
			for (let i = 0; i < inputs.length; i++) {
				if (inputs[i].contains(event.target)) {
					clickedInput = i;
					inputColor = inputs[i].value;
				}
			}
		})

		let afisareBtn = document.getElementById("descriere");
		afisareBtn.addEventListener ("click", function (event) {
			if (inputColor == "") {
				alert("trebuie sa selectezi o culoare!");
			}
			else {
				fetchData("./culori.json", inputColor);
			}
		})
  	</script>
</html>
